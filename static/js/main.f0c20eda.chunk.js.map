{"version":3,"sources":["config.jsx","app/utils/MiscUtils.jsx","app/contexts/PageMetadataProvider.jsx","app/containers/MainContainer.jsx","app/contexts/ApiProvider.jsx","app/contexts/AppProviders.jsx","app/components/Debug.jsx","app/components/Spinner.jsx","app/pages/MainPage.jsx","app/App.jsx","index.jsx"],"names":["config","api","employeesUri","process","application","dateModified","debug","gitCommit","version","PageMetadataContext","createContext","usePageMetadata","useContext","PageMetadataProvider","children","useState","pageTitle","pageMetadata","setPageMetadata","Provider","value","ApplicationVersion","className","style","fontSize","PageTitle","CardHeader","tag","ViewSource","href","rel","target","icon","faExternalLinkAlt","MainContainer","Container","Col","md","lg","Card","color","CardBody","ApiContext","ApiProvider","getEmployees","a","fetch","json","AppProviders","Debug","data","maxHeight","JSON","stringify","Spinner","text","props","size","MainPage","useAsync","error","isPending","reload","useEffect","Alert","message","title","Button","type","onClick","faRedo","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f0c20eda.chunk.js","sourcesContent":["/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\nimport { getDateModified, getGitCommit } from './app/utils/MiscUtils';\n\nconst config = {\n  api: {\n    employeesUri: process.env.REACT_APP_API_EMPLOYEES_URI\n  },\n\n  application: {\n    dateModified: getDateModified(),\n    debug: process.env.REACT_APP_DEBUG,\n    gitCommit: getGitCommit(),\n    version: process.env.REACT_APP_VERSION\n  }\n};\n\nexport default config;\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\nimport preval from 'preval.macro';\n\nconst getDateModified = () => {\n  return preval(`\n    module.exports = new Date()\n      .toISOString()\n  `);\n};\n\nconst getGitCommit = () => {\n  return preval(`\n    module.exports = require(\"child_process\")\n      .execSync(\"git rev-parse HEAD\")\n      .toString()\n      .substring(0, 8)\n  `);\n};\n\nconst sleep = (milliseconds) => {\n  return new Promise((resolve) => setTimeout(resolve, milliseconds));\n};\n\nexport { getDateModified, getGitCommit, sleep };\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\nimport PropTypes from 'prop-types';\nimport React, { createContext, useContext, useState } from 'react';\n\nconst PageMetadataContext = createContext();\n\nconst PageMetadataProvider = ({ children }) => {\n  const [pageMetadata, setPageMetadata] = useState({\n    pageTitle: 'React API demo'\n  });\n\n  return (\n    <PageMetadataContext.Provider value={{ pageMetadata, setPageMetadata }}>{children}</PageMetadataContext.Provider>\n  );\n};\n\nconst usePageMetadata = () => useContext(PageMetadataContext);\n\nPageMetadataProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nexport default PageMetadataProvider;\nexport { usePageMetadata };\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\nimport { faExternalLinkAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Card, CardBody, CardHeader, Col, Container } from 'reactstrap';\nimport config from '../../config';\nimport { usePageMetadata } from '../contexts/PageMetadataProvider';\n\nconst ApplicationVersion = () => (\n  <div className=\"text-right\" style={{ fontSize: '75%' }}>\n    <em>\n      <code>\n        v{config.application.version} ({config.application.gitCommit}, {config.application.dateModified})\n      </code>\n    </em>\n  </div>\n);\n\nconst PageTitle = () => {\n  const { pageMetadata } = usePageMetadata();\n\n  if (pageMetadata.pageTitle) {\n    return (\n      <CardHeader tag=\"h1\" className=\"h4 font-weight-bold\">\n        {pageMetadata.pageTitle}\n      </CardHeader>\n    );\n  }\n\n  return null;\n};\n\nconst ViewSource = () => (\n  <div className=\"small text-muted text-right\">\n    View source on{' '}\n    <a href=\"https://github.com/portal-solutions/react-api-demo/\" rel=\"noopener noreferrer\" target=\"_blank\">\n      GitHub\n      <sup>\n        <FontAwesomeIcon icon={faExternalLinkAlt} className=\"ml-1 small\" />\n      </sup>\n    </a>\n  </div>\n);\n\nconst MainContainer = ({ children }) => {\n  return (\n    <Container className=\"py-3\">\n      <Col md=\"10\" lg=\"8\" className=\"mx-auto\">\n        <ApplicationVersion />\n\n        <Card color=\"light shadow\">\n          <PageTitle />\n          <CardBody>{children}</CardBody>\n        </Card>\n\n        <ViewSource />\n      </Col>\n    </Container>\n  );\n};\n\nMainContainer.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nexport default MainContainer;\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\nimport PropTypes from 'prop-types';\nimport React, { createContext, useContext } from 'react';\nimport config from '../../config';\n\nconst ApiContext = createContext();\n\nconst ApiProvider = ({ children }) => {\n  const getEmployees = async () => (await fetch(config.api.employeesUri)).json();\n  return <ApiContext.Provider value={{ getEmployees }}>{children}</ApiContext.Provider>;\n};\n\nconst useApi = () => useContext(ApiContext);\n\nApiProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nexport default ApiProvider;\nexport { useApi };\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ApiProvider from './ApiProvider';\nimport PageMetadataProvider from './PageMetadataProvider';\n\n/**\n * A context provider that provides all other context providers.\n */\nconst AppProviders = ({ children }) => (\n  <ApiProvider>\n    <PageMetadataProvider>{children}</PageMetadataProvider>\n  </ApiProvider>\n);\n\nAppProviders.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nexport default AppProviders;\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\n/* eslint-disable react/forbid-prop-types */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Debug = ({ data }) => (\n  <pre className=\"bg-white border overflow-auto small\" style={{ maxHeight: '250px' }}>\n    {JSON.stringify(data, null, 2)}\n  </pre>\n);\n\nDebug.propTypes = {\n  data: PropTypes.object.isRequired\n};\n\nexport default Debug;\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\n/* eslint-disable react/jsx-props-no-spreading */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Spinner as ReactSpinner } from 'reactstrap';\n\nconst Spinner = ({ text, ...props }) => (\n  <div className=\"text-center\">\n    <p>{text}</p>\n    <ReactSpinner size=\"xl\" {...props} />\n  </div>\n);\n\nSpinner.propTypes = {\n  text: PropTypes.string.isRequired\n};\n\nexport default Spinner;\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\nimport { faExternalLinkAlt, faRedo } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useEffect } from 'react';\nimport { useAsync } from 'react-async';\nimport { Alert, Button } from 'reactstrap';\nimport config from '../../config';\nimport Debug from '../components/Debug';\nimport Spinner from '../components/Spinner';\nimport { useApi } from '../contexts/ApiProvider';\nimport { usePageMetadata } from '../contexts/PageMetadataProvider';\n\nconst MainPage = () => {\n  const { getEmployees } = useApi();\n  const { setPageMetadata } = usePageMetadata();\n  const { data, error, isPending, reload } = useAsync(getEmployees);\n\n  useEffect(() => {\n    // TODO :: GjB :: figure out how to move the useEffect() call into a hook\n    setPageMetadata({ pageTitle: 'React API demo' });\n  }, [setPageMetadata]);\n\n  if (isPending) {\n    return <Spinner text=\"Fetching API data...\" />;\n  }\n\n  if (error) {\n    return (\n      <Alert color=\"danger\" className=\"m-0\">\n        There was an error fetching data: &quot;<em>{error.message}</em>&quot;.\n      </Alert>\n    );\n  }\n\n  return (\n    <>\n      <h2 className=\"h6\">\n        Response from{' '}\n        <a href={config.api.employeesUri} rel=\"noopener noreferrer\" target=\"_blank\" title={config.api.employeesUri}>\n          Employees API\n          <sup>\n            <FontAwesomeIcon icon={faExternalLinkAlt} className=\"ml-1 small\" />\n          </sup>\n        </a>\n      </h2>\n\n      <Debug data={data} />\n\n      <div className=\"text-right\">\n        <Button type=\"button\" className=\"shadow-sm\" color=\"primary\" size=\"sm\" onClick={reload}>\n          <FontAwesomeIcon icon={faRedo} /> Fetch again...\n        </Button>\n      </div>\n    </>\n  );\n};\n\nexport default MainPage;\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\nimport React from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport MainContainer from './containers/MainContainer';\nimport AppProviders from './contexts/AppProviders';\nimport MainPage from './pages/MainPage';\n\nconst App = () => (\n  <AppProviders>\n    <MainContainer>\n      <HashRouter>\n        <Switch>\n          <Route exact path=\"/\" component={MainPage} />\n        </Switch>\n      </HashRouter>\n    </MainContainer>\n  </AppProviders>\n);\n\nexport default App;\n","/**\n * Copyright (c) Portal Solutions and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @author Greg Baker <gregory.j.baker@hrsdc-rhdcc.gc.ca>\n */\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n// IMPORTANT: always keep polyfills as first imports!\nimport 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}